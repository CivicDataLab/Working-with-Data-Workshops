<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Explore data using SQL</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs-2.14/header-attrs.js"></script>
    <script src="libs/xaringanExtra_fit-screen-0.2.6/fit-screen.js"></script>
    <link href="libs/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view-0.2.6/tile-view.js"></script>
    <link href="libs/tachyons-4.12.0/tachyons.min.css" rel="stylesheet" />
    <link href="libs/panelset-0.2.6/panelset.css" rel="stylesheet" />
    <script src="libs/panelset-0.2.6/panelset.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Explore data using SQL
## A two-day workshop at SNEHA, Mumbai
### CivicDataLab
### 14th - 15th November, 2022

---




<div>
<style type="text/css">.xaringan-extra-logo {
width: 110px;
height: 128px;
z-index: 0;
background-image: url(https://drive.google.com/uc?id=1WbdosVvi6SBjYtEF6kHj-f0wotdHMRgw);
background-size: contain;
background-repeat: no-repeat;
position: absolute;
top:1em;right:1em;
}
</style>
<script>(function () {
  let tries = 0
  function addLogo () {
    if (typeof slideshow === 'undefined') {
      tries += 1
      if (tries < 10) {
        setTimeout(addLogo, 100)
      }
    } else {
      document.querySelectorAll('.remark-slide-content')
        .forEach(function (slide) {
          const logo = document.createElement('a')
          logo.classList = 'xaringan-extra-logo'
          logo.href = 'https://civicdatalab.in'
          slide.appendChild(logo)
        })
    }
  }
  document.addEventListener('DOMContentLoaded', addLogo)
})()</script>
</div>








## Our Journey (Workshop Overview)


---

## Learning Objectives

A good session will be if by the end you:

1. Are aware about the **basic structure of a dataset**

--

2. Can describe any **tabular dataset** in terms of its features

--

3. Are aware about the **ways in which each data point can be stored in a file**

--

4. Can evaluate the **data quality** of any data set 

--

5. Have a basic understanding about **databases**

--

6. Can **read and write basic SQL queries**

--

7. Have a **pathway to develop your skills**


---

## A basic dataset

.center[.card[

![](assets/penguin-dataset-kaggle.png)

]]

---

## Features of dataset

.pull-left[
.card[
![](assets/penguin-dataset-kaggle.png)

&lt;center&gt;A tabular dataset &lt;/center&gt;
]
]

--

.pull-right[

**Features** of a dataset:

1. Total Rows
2. Total Columns
3. Variables
4. Type of variables (Data Types)
  1. Categorical
  2. Numeric
  3. Text
  4. Date
]

---

## Quiz - Identify the features of a dataset


---

## Evaluating a dataset (Dataset Quality)

How to create a **good quality** dataset

1. Be consistent.

--

2. Formatting dates.

--

3. Fill in all of the cells.

--

4. Donâ€™t use font color or highlighting as data.

--

5. Choose good names for things.

---
### Be Consistent

.center[.middle[.card[
![](assets/data-quality-consistency.jpg)

&lt;/n&gt; Sample Table
]
]
]

---

### Be Consistent - Principles

1. Consistent codes for categorical variables

--

2. Single fixed code for any missing values

--

3. Single common format for all dates

--

4. Extra spaces within cells

---

### Be Consistent -  The difference

.pull-left[

.middle[.card[


![](assets/data-quality-consistency.jpg)
&lt;center&gt; Sample Table &lt;/center&gt;
]
]
]

.pull-right[

.middle[.card[


![](assets/data-quality-consistency-alt.jpg)
&lt;center&gt;Formatted Table&lt;/center&gt;
]
]
]

---
### Formatting dates

.center[.middle[.card[
![](assets/data-quality-dates.jpg)
]

.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[

Be consistent in the way in which you write dates. And always use the YYYY-MM-DD format (or put the year, month, and day in separate columns).
&lt;sup&gt;1&lt;/sup&gt;
]
]
]

.footnote[
[1][Dates as Data](https://datacarpentry.org/spreadsheets-socialsci/03-dates-as-data/index.html)
]

---
### No empty cells



.panelset[

.panel[

.panel-name[Missing Values]

![](assets/data-quality-missing-value.jpg)

]

.panel[

.panel-name[Better alternative]

![](assets/data-quality-missing-value-alt.jpg)
]
]

---
### Formatting data within files



.panelset[

.panel[

.panel-name[Formatted Table]

![](../module_1_data_collection/assets/formatting-table-1.png)

]

.panel[

.panel-name[Better alternative]

![](../module_1_data_collection/assets/formatting-table-2.png)
]
]

---

### Naming things

.pull-left[

.card[

![](assets/data-quality-missing-names.jpg)

&lt;/n&gt;

&lt;center&gt; Variable Names &lt;/center&gt;

]

]

--

.pull-right[

.card[

![](assets/data-quality-file-names.jpg)

&lt;/n&gt;

&lt;center&gt;File Names &lt;/center&gt;

]
]

---

## Analysing data in Excel

.middle[
.pull-left[
.card[
![](assets/census-pca.jpg)

&lt;/n&gt;

&lt;center&gt; &lt;a href="https://ndap.niti.gov.in/dataset/6000?tab=data"&gt;Primary Population Census 2011 &lt;/a&gt; &lt;/center&gt;
]
]

.pull-right[

**To-Do**

Link to the file - [Download from here](https://github.com/CivicDataLab/Working-with-Data-Workshops/raw/master/modules/module_2_data_exploration/data/census-2011-pca-ndap.csv)

1. Open the file in excel
2. Count the total number of districts
3. Find the district with the highest number of sub districts
4. Find the village with the highest number of households
5. Find the top 10 villages (**having at-least 50 households**) with highest percentage of:
  1. Female population
  2. Female literate population
  3. Female working population
]
]

---

## Database Tools

.center[.middle[
.pull-left[

**Database**
.card[
![](assets/postgresql.png)

&lt;/n&gt;

&lt;a href="https://www.postgresql.org/" target="_blank"&gt;PostgreSQL&lt;/a&gt;
]

]

.pull-right[
**Database Manager**

.card[

![](assets/pgadmin.jpg)

&lt;/n&gt;

&lt;a href="https://www.pgadmin.org/" target="_blank"&gt;pgAdmin&lt;/a&gt;

]

]
]]

---

## Database Schema

.center[.middle[

.card[
![](assets/schema.png)

&lt;/n&gt; 

&lt;b&gt; A schema diagram &lt;/b&gt;

]

]]

---

## Database Tables

.pull-left[.middle[

.card[
![](assets/db-tables.png)

&lt;/n&gt; 

&lt;center&gt;&lt;b&gt; Tables in a database &lt;/b&gt;&lt;/center&gt;

]

]]

--

.pull-right[.middle[

**Table Names**

1. `person`

2. `drivers_license`

3. `income`

]
]

---
class: center, middle

## Structured Query Language (SQL)

.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[

**SQL** is the most commonly used language to access data from a database.

]

---
## SQL Query

.center[
.card[
![](assets/keys_master.webp)
&lt;/n&gt; 

&lt;center&gt; Table Name: &lt;b&gt;employee&lt;/b&gt;&lt;center&gt; 

]

.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[

SELECT * FROM employee

]
]

---
## SQL Query - SELECT

.center[
.card[
![](assets/keys_master.webp)
&lt;/n&gt; 

&lt;center&gt; Table Name: &lt;b&gt;employee&lt;/b&gt;&lt;center&gt; 

]

.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[

&lt;b&gt;SELECT&lt;/b&gt; * FROM employee

]
]

---
## SQL Query - All

.center[
.card[
![](assets/keys_master.webp)
&lt;/n&gt; 

&lt;center&gt; Table Name: &lt;b&gt;employee&lt;/b&gt;&lt;center&gt; 

]

.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[

SELECT &lt;b&gt;*&lt;/b&gt; FROM employee

]
]

---

## SQL Query - FROM

.center[
.card[
![](assets/keys_master.webp)
&lt;/n&gt; 

&lt;center&gt; Table Name: &lt;b&gt;employee&lt;/b&gt;&lt;center&gt; 

]

.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[

SELECT * &lt;b&gt;FROM&lt;/b&gt; employee

]
]

---
## SQL Query - Select variable[s]

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
SELECT &lt;b&gt;Name, Gender&lt;/b&gt; FROM employee
]]

&lt;/br&gt;&lt;/br&gt;

.pull-left[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

--

.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## SQL Query - WHERE (Filter Table)

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
SELECT &lt;b&gt;Name&lt;/b&gt; FROM employee &lt;b&gt;WHERE gender='M'&lt;/b&gt;
]]

&lt;/br&gt;&lt;/br&gt;

.pull-left[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

--

.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## SQL Query - Sort Rows - Ascending

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
SELECT &lt;b&gt;Name, Dep_Id&lt;/b&gt; FROM employee &lt;b&gt;ORDER BY&lt;/b&gt; Dep_Id
]]

&lt;/br&gt;&lt;/br&gt;

.pull-left[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

--

.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## SQL Query - Sort Rows - Descending

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
SELECT &lt;b&gt;Name, Dep_Id&lt;/b&gt; FROM employee &lt;b&gt;ORDER BY&lt;/b&gt; Dep_Id &lt;b&gt;DESC&lt;/b&gt;
]]

&lt;/br&gt;&lt;/br&gt;

.pull-left[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

--

.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## SQL Query - Limit Rows

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
SELECT &lt;b&gt;Name, Gender&lt;/b&gt; FROM employee &lt;b&gt;LIMIT 1&lt;/b&gt;
]]

&lt;/br&gt;&lt;/br&gt;

.pull-left[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

--

.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## SQL Functions

.center[
.middle[
.card[
![](assets/sql-aggregations.png)
]
]
]

---
## SQL Query - Count all rows

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
SELECT &lt;b&gt;COUNT(*)&lt;/b&gt; FROM employee
]]

&lt;/br&gt;

.center[.middle[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]]

--

.center[.middle[
&lt;h3&gt;

```
Total Rows -&gt; 5
```
&lt;/h3&gt;
]
]

---
## SQL Query - Count unique rows

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
SELECT &lt;b&gt;COUNT(DISTINCT Gender)&lt;/b&gt; FROM employee
]]

&lt;/br&gt;

.center[.middle[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]]

--

.center[.middle[
&lt;h3&gt;

```
Total Rows -&gt; 2
```
&lt;/h3&gt;
]
]

---



---
## SQL Query - Calculate SUM

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
SELECT &lt;b&gt;SUM(Points)&lt;/b&gt; FROM employee
]]

&lt;/br&gt;

.center[.middle[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]]

--

.center[.middle[
&lt;h3&gt;

```
Total Sum -&gt; 65
```
&lt;/h3&gt;
]
]

---
## SQL Query - Find Maximum value

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
SELECT &lt;b&gt;MAX(Points)&lt;/b&gt; FROM employee
]]

&lt;/br&gt;

.center[.middle[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]]

--

.center[.middle[
&lt;h3&gt;

```
Maximum Points -&gt; 25
```
&lt;/h3&gt;
]
]

---
## SQL Quiz

Find the row with maximum number of points **without using MAX**


---
## SQL Query - GROUP BY 

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
SELECT &lt;b&gt;Gender, COUNT(*) as Total&lt;/b&gt; FROM employee &lt;b&gt;GROUP BY Gender&lt;/b&gt;
]]

&lt;/br&gt;&lt;/br&gt;

.pull-left[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

--

.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Total &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]


---
## SQL Query - GROUP BY (SUM)

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
SELECT &lt;b&gt;Dep_Id, sum(Points) as Total_Points&lt;/b&gt; FROM employee &lt;b&gt;GROUP BY Dep_Id&lt;/b&gt;
]]

&lt;/br&gt;&lt;/br&gt;

.pull-left[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

--

.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Total_Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 40 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## SQL Query - GROUP BY (MAX) + ORDER BY

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
SELECT &lt;b&gt;City, MAX(Points) as max_Points&lt;/b&gt; FROM employee &lt;b&gt;GROUP BY City ORDER BY max_Points DESC&lt;/b&gt;
]]

&lt;/br&gt;&lt;/br&gt;

.pull-left[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

--

.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; max_Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## SQL Query - GROUP BY + HAVING (Group Filter)
.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
SELECT 
  City, sum(Points) as total_Points
  FROM employee 
  &lt;b&gt;GROUP BY city HAVING sum(points) &gt; 10&lt;/b&gt; 
  ORDER BY total_points desc;
]]

&lt;/br&gt;&lt;/br&gt;

.pull-left[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Name &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Gender &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Dep_Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ajay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Delhi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Vijay &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mumbai &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Radhika &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shikha &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 25 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Hrithik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; M &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 10 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

--

.pull-right[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; City &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; total_Points &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Jaipur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 35 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Bhipal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## Order of SQL commands

.center[.middle[

.card[

![](assets/query-steps.jpg)
&lt;center&gt;&lt;b&gt;&lt;a href='https://towardsdatascience.com/the-6-steps-of-a-sql-select-statement-process-b3696a49a642'&gt;The 6 Steps of a SQL Select Statement Process
&lt;/a&gt;&lt;/b&gt;&lt;/center&gt;

]

]]

---
## Analysing data using SQL

.middle[
.pull-left[
.card[
![](assets/census-pca.jpg)

&lt;/n&gt;

&lt;center&gt; &lt;a href="https://ndap.niti.gov.in/dataset/6000?tab=data"&gt;Primary Population Census 2011 &lt;/a&gt; &lt;/center&gt;
]
]

.pull-right[

**To-Do**

1. Locate the table in the database and print the first 10 rows
2. Count the total number of districts
3. Select the top 10 districts with the highest number of sub districts
4. Select the top 10 villages with the highest number of households
5. Find the top 10 villages (**having at-least 50 households**) with highest percentage of:
  1. Female population
  2. Female literate population
  3. Female working population
]
]

---
## Query - 1

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
Locate the table in the database and print the first 10 rows
]
]

--
&lt;/n&gt;

.center[
.card[
.bg-yellow[
.black[
&lt;b&gt;SELECT * FROM census11 LIMIT 10&lt;/b&gt;
]
]
]
]

--
&lt;/n&gt;

.center[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Id &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Country &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; State &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; District &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SubDistrict &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Village_Town &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Year &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Rural_Urban &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; India &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Maharashtra &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ahmednagar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Akola &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Babhul Wandi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2011 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Rural &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; India &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Maharashtra &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ahmednagar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Akola &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bari &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2011 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Rural &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; India &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Maharashtra &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ahmednagar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Akola &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ladgaon &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2011 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Rural &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; India &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Maharashtra &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ahmednagar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Akola &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Waranghushi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2011 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Rural &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; India &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Maharashtra &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Ahmednagar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Akola &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Samrad &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2011 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Rural &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## Analyse data using SQL

.center[.middle[
**To-Do**

&lt;s&gt;1. Locate the table in the database and print the first 10 rows&lt;/s&gt;

2. Count the total number of districts
]
]

---
## Query - 2

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
Count the total number of districts
]
]

--
&lt;/n&gt;

.center[
.card[
.bg-yellow[
.black[
&lt;b&gt;SELECT COUNT(DISTINCT district) as Total_Districts FROM census11&lt;/b&gt;
]
]
]
]

--
&lt;/n&gt;

.center[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Total_Districts &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 35 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## Analyse data using SQL

.center[.middle[
**To-Do**

~~1. Locate the table in the database and print the first 10 rows~~

~~2. Count the total number of districts~~

3. Select the top 10 districts with the highest number of sub districts
]
]

---
## Query - 3

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
Select the top 10 district with the highest number of sub districts
]
]

--
&lt;/n&gt;

.center[
.card[
.bg-yellow[
.black[
&lt;b&gt;
  SELECT 
    district, COUNT(DISTINCT subdistrict) as Total_SubDistricts
    FROM census11 
    GROUP BY district 
    ORDER BY Total_SubDistricts DESC, district
  LIMIT 10
&lt;/b&gt;
]
]
]
]

--
&lt;/n&gt;

.center[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; District &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Total_SubDistricts &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Nanded &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 16 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Nashik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 16 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Yavatmal &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 16 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ahmednagar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Chandrapur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Jalgaon &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Nagpur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Pune &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Raigad &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Amravati &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 14 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## Analyse data using SQL

.center[.middle[
**To-Do**

~~1. Locate the table in the database and print the first 10 rows~~

~~2. Count the total number of districts~~

~~3. Select the top 10 districts with the highest number of sub districts~~

4. Select the top 10 villages with the highest number of households
]
]

---
## Query - 4

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
Select the top 10 villages with the highest number of households
]
]

--
&lt;/n&gt;

.center[
.card[
.bg-yellow[
.black[
&lt;b&gt;
  SELECT 
    district, subdistrict,village_town, Households 
    FROM census11 
    WHERE rural_urban = 'Rural'
    ORDER BY Households DESC
  LIMIT 10
&lt;/b&gt;
]
]
]
]

--
&lt;/n&gt;

.center[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; District &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SubDistrict &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Village_Town &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Households &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Pune &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Haveli &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Fursungi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 15595 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Thane &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Kalyan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nandiwali Tarf Pachanand (N.V.) &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 9087 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Pune &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Haveli &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Manjari Bk &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8401 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Nashik &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Niphad &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pimpalgaon Baswant &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8187 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ahmednagar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shevgaon &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Shevgaon &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 8013 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Pune &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Haveli &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Keshavnagar-Mundwa &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7537 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Pune &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Haveli &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Lahagaon &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7526 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Sangli &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jat &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jat &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7411 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Thane &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Kalyan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Pisavali &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 7207 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Pune &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Haveli &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Uruli Kanchan &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 6693 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---
## Analyse data using SQL

.center[.middle[
**To-Do**

~~1. Locate the table in the database and print the first 10 rows~~

~~2. Count the total number of districts~~

~~3. Select the top 10 districts with the highest number of sub districts~~

~~4. Select the top 10 villages with the highest number of households~~

Find the top 10 villages (**having at-least 50 households**) with highest percentage of:
  
.bg-green[.white[&lt;b&gt;Female population&lt;/b&gt;]]   
]
]

---

## Analyse data using SQL

.center[.middle[
**To-Do**

~~1. Locate the table in the database and print the first 10 rows~~

~~2. Count the total number of districts~~

~~3. Select the top 10 districts with the highest number of sub districts~~

~~4. Select the top 10 villages with the highest number of households~~

Find the top 10 villages (**having at-least 50 households**) with highest percentage of:
  
.bg-green[.white[&lt;b&gt;Female population&lt;/b&gt;]]   .bg-green[.white[&lt;b&gt;Female literate population&lt;/b&gt;]]  
]
]

---

## Analyse data using SQL

.center[.middle[
**To-Do**

~~1. Locate the table in the database and print the first 10 rows~~

~~2. Count the total number of districts~~

~~3. Select the top 10 districts with the highest number of sub districts~~

~~4. Select the top 10 villages with the highest number of households~~

Find the top 10 villages (**having at-least 50 households**) with highest percentage of:
  
.bg-green[.white[&lt;b&gt;Female population&lt;/b&gt;]]   .bg-green[.white[&lt;b&gt;Female literate population&lt;/b&gt;]]   .bg-green[.white[&lt;b&gt;Female working population&lt;/b&gt;]]
]
]
---
## Query - 5 (Calculated fields)

.center[
.bg-washed-red.b--dark-red.ba.bw2.br3.shadow-5.ph4.mt5[
Find the top 10 villages, having at-least 50 households, with highest percentage of Female population
]
]

--
&lt;/n&gt;

.center[
.card[
.bg-yellow[
.black[
&lt;b&gt;
  SELECT 
    district, subdistrict,
    village_town, (cast(femalepopulation as decimal)/population)*100 as percent_female_pop 
    FROM census11 
    WHERE rural_urban = 'Rural' AND households &gt;= 50
    ORDER BY percent_female_pop DESC
  LIMIT 10
&lt;/b&gt;
]
]
]
]

--
&lt;/n&gt;

.center[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; District &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; SubDistrict &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Village_Town &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; percent_female_pop &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Gondia &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Deori &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Charbhata &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 77.05287 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Gadchiroli &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Chamorshi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Tumdi &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 75.07599 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Gadchiroli &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Dhanora &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Sode &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 71.55050 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ratnagiri &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Dapoli &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Borivali &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 71.32616 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Raigad &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mangaon &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Nhave &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 70.82803 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Raigad &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mhasla &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Dehen &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 69.96337 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Nandurbar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Talode &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Lobhani &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 69.77863 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ratnagiri &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Chiplun &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Devpat &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 69.65021 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Raigad &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mangaon &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Mangrul &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 69.17431 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Palghar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Jawhar &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Sakur &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 69.05797 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

---

## Case Study - Tracking field visits

.middle[
.pull-left[
.card[

![](assets/sneha-map.jpg)
&lt;center&gt;&lt;a href='https://snehamumbai.org/our-story/#:~:text=Brihanmumbai%20Municipal%20Corporation-,Areas%20of%20Work,-We%20work%20across' target='_blank'&gt;Source: SNEHA&lt;/a&gt;&lt;/center&gt;
]
]

.pull-right[


&lt;b&gt;To-Do&lt;/b&gt;:

&lt;center&gt; &lt;b&gt;Filter out all cases which are closed&lt;/b&gt; &lt;/center&gt;

1. For each &lt;b&gt; cluster, center and CO (community organiser) &lt;/b&gt;:

  1. Count the total number of pregnant women
  
  2. Count the number of high risk pregnancies 
  
  3. Find the distribution of pregnant women by month of pregnancy 

2. Find the cluster, center and CO with the highest number of pregnancies in the sixth and seventh month

3. For all women in this group, find the total number of field visits

4. For all women in the above group, count the total number of visits per month

]
]

---
SQL Query - Subqueries


---

## Case Study - Tracking field visits

.middle[
.pull-left[

&lt;b&gt;To-Do&lt;/b&gt;:

1. For each &lt;b&gt; cluster, center and CO (community organiser) &lt;/b&gt;:

  1. Count the total number of pregnant women
  
  2. Count the number of high risk pregnancies 
  
  3. Find the distribution of pregnant women by month of pregnancy 

2. Find the cluster, center and CO with the highest number of pregnancies in the sixth and seventh month

3. For all women in this group, find the total number of field visits

4. For all women in the above group, count the total number of visits per month

]

.pull-right[
.card[

![](assets/pgadmin.jpg)
&lt;center&gt;&lt;a href='' target='_blank'&gt;SQL file&lt;/a&gt;&lt;/center&gt;
]
]
]

---
## SQL Detective

.center[.middle[.card[

![](assets/sql-murder-mystery.png)

&lt;center&gt;&lt;b&gt;&lt;a href='https://mystery.knightlab.com/' target='_blank'&gt;Source: knightlab&lt;/a&gt;&lt;/b&gt;&lt;/center&gt;

]]

[SQL file]()

]

---
## Resources to learn and practice SQL

&lt;iframe title="SQL Resources" aria-label="Table" id="datawrapper-chart-NKL6f" src="https://datawrapper.dwcdn.net/NKL6f/1/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="559" data-external="1"&gt;&lt;/iframe&gt;&lt;script type="text/javascript"&gt;!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r&lt;t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();
&lt;/script&gt;

&lt;center&gt;Click [here]() to download the list of resources&lt;/center&gt;

---
class: center, middle

# Queries and Feedback
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
